{"version":3,"sources":["pages/Home/menus.js","pages/Home/tags.js","config.js","components/StoreLogo/index.js","components/TopBar/index.js","utils/sum-price.js","utils/format-rupiah.js","components/Cart/index.js","features/Products/constant.js","api/products.js","features/Products/action.js","features/Cart/constant.js","features/Cart/action.js","pages/Home/index.js","pages/Register/validation.js","api/auth.js","pages/Register/index.js","pages/RegisterSuccess/index.js","pages/Login/validation.js","features/Auth/constant.js","features/Auth/action.js","pages/Login/index.js","pages/UserAddressAdd/vaidation.js","components/SelectWilayah/index.js","api/address.js","pages/UserAddressAdd/index.js","hooks/address.js","pages/UserAddress/index.js","api/order.js","pages/Checkout/index.js","components/StatusLabel/index.js","api/invoice.js","pages/Invoice/index.js","pages/UserAccount/index.js","pages/UserOrders/index.js","pages/Logout/index.js","components/GuardRoute/index.js","components/GuestRouteOnly/index.js","features/Auth/reducer.js","features/Products/reducer.js","features/Cart/reducer.js","app/store.js","app/listener.js","api/cart.js","App.js","reportWebVitals.js","index.js"],"names":["menus","icon","label","id","tags","utama","pastry","snack","minuman","dotenv","config","process","account_no","bank_name","StoreLogo","to","className","TopBar","auth","useSelector","state","desktop","justify","items","user","full_name","sumPrice","reduce","acc","cur","price","qty","formatRupiah","number","isNaN","parseInt","Intl","NumberFormat","maximumSignificantDigits","style","currency","format","Cart","onItemInc","onItemDec","onCheckout","total","as","text","fitContainer","iconAfter","disabled","length","onClick","map","item","index","imgUrl","image_url","name","color","onInc","onDec","_","START_FETCHING_PRODUCT","ERROR_FETCHING_PRODUCT","SUCCESS_FETCHING_PRODUCT","SET_PAGE","SET_KEYWORD","SET_CATEGORY","SET_TAGS","NEXT_PAGE","PREV_PAGE","TOGGLE_TAG","params","a","axios","get","debouncedFetchProducts","debounce","startFetchingProduct","type","errorFetchingProduct","successFetchingProduct","data","count","ADD_ITEM","REMOVE_ITEM","CLEAR_ITEMS","SET_ITEMS","addItem","clearItems","setItems","Home","dispatch","useDispatch","products","cart","history","useHistory","React","getState","perPage","currentPage","keyword","category","limit","skip","q","sidebar","verticalAlign","active","onChange","setCategory","content","fullRound","value","placeholder","e","target","tag","toggleTag","isActive","includes","slice","toUpperCase","status","product","title","onAddToCart","totalItems","page","setPage","onNext","onPrev","removeItem","push","sidebarSize","rules","required","message","maxLength","pattern","register_user","post","login","email","password","localStorage","getItem","JSON","parse","token","headers","authorization","then","response","catch","console","log","statusList","Register","useForm","mode","register","handleSubmit","errors","formState","setError","setStatus","onSubmit","formData","password_confirmation","resp","error","Object","keys","fields","forEach","field","properties","size","errorMessage","RegisterSuccess","USER_LOGIN","USER_LOGOUT","userLogin","userLogout","Login","minLength","SelectWilayah","tingkat","kodeInduk","setData","isFetching","setIsFetching","finally","options","wilayah","nama","kode","isLoading","isDisabled","getAddress","createAddress","payload","UserAddressAdd","setValue","getValues","watch","allFields","provinsi","kabupaten","kecamatan","updateValue","shouldDirty","shouldValidate","nama_alamat","detail","detail_alamat","kelurahan","option","defaultProps","useAddressData","setCount","setLimit","fetchAddress","UserAddress","columns","Header","accessor","alamat","onPageChange","getOrders","createOrder","IconWrapper","children","steps","src","width","alt","addressColumns","Checkout","activeStep","setActiveStep","selectedAddress","setSelectedAddress","delivery_fee","delivery_address","_id","stringify","showPagination","selectable","primaryField","selectedRow","onSelectRow","tablet","mobile","iconBefore","StatusLabel","order_id","Invoice","invoice","setInvoice","initiatingPayment","setInitiating","setRequestError","useRouteMatch","handlePayment","alert","window","snap","pay","getInvoiceByOrderId","payment_status","order","order_number","url","UserAccount","menu","header","body","order_items","UserOrders","pesanan","setPesanan","fetchPesanan","Logout","logout","GuardRoute","Component","component","rest","GuestRouteOnly","initialState","currentAuth","currentCart","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducers","combineReducers","action","currentPageL","filter","find","itm","store","createStore","applyMiddleware","thunk","saveCart","put","listener","previousAuth","previousCart","setItem","App","useEffect","subscribe","getCart","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3ca70315.chunk.js","sourcesContent":["const menus = [\r\n    {icon: '/images/menus/semua.png', label: 'semua', id:''},\r\n    {icon: '/images/menus/utama.png', label: 'utama', id:'utama'},\r\n    {icon: '/images/menus/minuman.png', label: 'minuman', id:'minuman'},\r\n    {icon: '/images/menus/snack.png', label: 'snack', id:'snack'},\r\n    {icon: '/images/menus/pastry.png', label: 'pastry', id:'pastry'}\r\n];\r\n\r\nexport default menus;\r\n\r\n","export const tags = {\r\n    '': [],\r\n    utama: ['burger', 'pizza', 'bread'],\r\n    pastry: ['cheese', 'strawberry', 'muffin'],\r\n    snack: ['fried', 'bread', 'cheese', 'coffee'],\r\n    minuman: ['coffee', 'tea', 'hot', 'cold']\r\n}","import dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nconst config = {\r\n    api_host: process.env.REACT_APP_API_HOST,\r\n    site_title: process.env.REACT_APP_SITE_TITLE,\r\n    global_ongkir: process.env.REACT_APP_GLOBAL_ONGKIR,\r\n    owner: process.env.REACT_APP_OWNER,\r\n    contact: process.env.REACT_APP_CONTACT,\r\n    billing: {\r\n        account_no: process.env.REACT_APP_BILLING_NO,\r\n        bank_name: process.env.REACT_APP_BILLING_BANK\r\n    }\r\n}\r\n\r\nexport {config};","import * as React from 'react';\r\nimport {config} from '../../config';\r\nimport {Link} from 'react-router-dom';\r\n\r\nexport default function StoreLogo() {\r\n\r\n    return (\r\n        <Link to=\"/\">\r\n            <div className=\"text-red-600 font-bold text-4xl\">\r\n                {config.site_title}\r\n            </div>\r\n        </Link>\r\n    )\r\n}","import * as React from 'react';\r\nimport StoreLogo from '../StoreLogo';\r\n//router\r\nimport {Link} from 'react-router-dom';\r\n//redux\r\nimport {useSelector} from 'react-redux';\r\n//components\r\nimport {Responsive, ButtonCircle} from 'upkit';\r\n//icon\r\nimport FaUser from '@meronex/icons/fa/FaUser';\r\n\r\nexport default function TopBar(){\r\n\r\n    let auth = useSelector(state => state.auth);\r\n\r\n    return(\r\n        <Responsive desktop={2} justify=\"between\" items=\"center\">\r\n            <div>\r\n                <StoreLogo/>\r\n            </div>\r\n            <div className=\"mr-5 text-right\">\r\n                <Link to={auth?.user ? '/account' : '/login'}>\r\n                    <div className=\"mr-2 inline-block text-red-600 font-bold\">\r\n                        {auth?.user?.full_name || 'Login'}\r\n                    </div>\r\n                    <ButtonCircle icon={<FaUser/>} />\r\n                </Link>\r\n            </div>\r\n        </Responsive>\r\n    )\r\n}","export function sumPrice(items){\r\n    return items.reduce((acc, cur) => {\r\n        return acc + (cur.price * cur.qty)\r\n    }, 0);\r\n}","export function formatRupiah(number){\r\n\r\n    if(isNaN(parseInt(number))) return '';\r\n\r\n    return new Intl.NumberFormat('id-ID', {maximumSignificantDigits: 2, style: 'currency', currency:'IDR'}).format(number);\r\n}","//react\r\nimport * as React from 'react';\r\nimport {arrayOf, string, shape, oneOfType, number, func} from 'prop-types';\r\n\r\n//styling\r\nimport {CardItem, Button, Text} from 'upkit';\r\nimport {config} from '../../config';\r\nimport FaArrowRight from '@meronex/icons/fa/FaArrowRight';\r\nimport FaCartPlus from '@meronex/icons/fa/FaCartPlus';\r\n\r\n//utils\r\nimport {sumPrice} from '../../utils/sum-price';\r\nimport { formatRupiah } from '../../utils/format-rupiah';\r\n\r\nexport default function Cart({items, onItemInc, onItemDec, onCheckout}){\r\n\r\n    let total = sumPrice(items);\r\n\r\n    return (<div >\r\n\r\n\r\n        <div className=\"px-2 border-b mt-5 pb-5\">\r\n            {/* Banner */}\r\n            <div className=\"text-3xl flex items-center text-red-700 my-2\">\r\n                <FaCartPlus/>\r\n                <div className=\"ml-2\">\r\n                    Keranjang\r\n                </div>\r\n            </div>\r\n\r\n            <Text as=\"h5\">Total: {formatRupiah(total)}</Text>\r\n            {/* Button checkout */}\r\n            <Button \r\n                text=\"Checkout\"\r\n                fitContainer\r\n                iconAfter={<FaArrowRight/>}\r\n                disabled={!items.length}\r\n                onClick={onCheckout}\r\n            />\r\n        </div>\r\n\r\n        {/* cek cart kosong */}\r\n        {!items.length ? <div className=\"text-center text-sm text-red-900\">Belum ada items di keranjang</div> : null}\r\n\r\n        {/* item cart */}\r\n        <div className=\"p-2\">\r\n            {items.map((item, index) => {\r\n                return (<div key={index} className=\"mb-2\">\r\n                    <CardItem\r\n                        imgUrl={`${config.api_host}/upload/${item.image_url}`}\r\n                        name={item.name}\r\n                        qty={item.qty}\r\n                        color=\"orange\"\r\n                        onInc={() => onItemInc(item)}\r\n                        onDec={_ => onItemDec(item)}\r\n                    />\r\n                </div>)\r\n            })}\r\n        </div>\r\n\r\n        \r\n    </div>)\r\n}\r\n\r\nCart.propTypes = {\r\n    items: arrayOf(shape({\r\n        _id: string.isRequired,\r\n        name: string.isRequired,\r\n        qty: oneOfType([string, number]).isRequired\r\n    })),\r\n    onItemInc: func,\r\n    onItemDec: func,\r\n    onCheckout: func\r\n}","export const START_FETCHING_PRODUCT = 'features/Products/START_FETCHING_PRODUCT';\r\nexport const ERROR_FETCHING_PRODUCT = 'features/Products/ERROR_FETCHING_PRODUCT';\r\nexport const SUCCESS_FETCHING_PRODUCT = 'features/Products/SUCCESS_FETCHING_PRODUCT';\r\nexport const SET_PAGE = 'features/Products/SET_PAGE';\r\nexport const SET_KEYWORD  = 'features/Products/SET_KEYWORD';\r\nexport const SET_CATEGORY = 'features/Products/SET_CATEGORY';\r\nexport const SET_TAGS = 'features/Products/SET_TAGS';\r\nexport const NEXT_PAGE = 'features/Products/NEXT_PAGE';\r\nexport const PREV_PAGE = 'features/Products/PREV_PAGE';\r\nexport const TOGGLE_TAG = 'features/Products/TOGGLE_TAG';","import axios from 'axios';\r\nimport {config} from '../config';\r\n\r\nexport async function getProducts(params){\r\n\r\n    return await axios.get(`${config.api_host}/api/products`, {\r\n        params\r\n    })\r\n}","//import constants\r\nimport {START_FETCHING_PRODUCT, ERROR_FETCHING_PRODUCT, SUCCESS_FETCHING_PRODUCT, SET_PAGE,SET_CATEGORY,\r\n    SET_KEYWORD, SET_TAGS, NEXT_PAGE, PREV_PAGE, TOGGLE_TAG} from './constant';\r\n\r\n//import api\r\nimport {getProducts} from '../../api/products';\r\n//debounce\r\nimport debounce from 'debounce-promise';\r\n\r\nlet debouncedFetchProducts = debounce(getProducts, 1000);\r\n\r\nexport const fetchProducts = () => {\r\n    return async (dispatch, getState) => {\r\n        try {\r\n\r\n            dispatch(startFetchingProduct());\r\n\r\n            //configure params\r\n            let perPage = getState().products.perPage || 9;\r\n            let currentPage = getState().products.currentPage || 1;\r\n            let tags = getState().products.tags || [];\r\n            let keyword = getState().products.keyword || '';\r\n            let category = getState().products.category || '';\r\n\r\n            const params = {\r\n                limit: perPage,\r\n                skip: (currentPage * perPage) - perPage,\r\n                q: keyword,\r\n                tags,\r\n                category\r\n            }\r\n\r\n            let {data: {data, count}} = await debouncedFetchProducts(params);\r\n\r\n            dispatch(successFetchingProduct({data, count}));\r\n        } catch (error) {\r\n\r\n            dispatch(errorFetchingProduct);\r\n        }\r\n    }\r\n}\r\n\r\nexport const startFetchingProduct = () => {\r\n    return {\r\n        type: START_FETCHING_PRODUCT\r\n    }\r\n}\r\n\r\nexport const errorFetchingProduct = () => {\r\n    return {\r\n        type: ERROR_FETCHING_PRODUCT\r\n    }\r\n}\r\n\r\nexport const successFetchingProduct = ({data, count}) => {\r\n    return {\r\n        type: SUCCESS_FETCHING_PRODUCT,\r\n        data,\r\n        count\r\n    }\r\n}\r\n\r\nexport const setPage = (number = 1) => {\r\n    return {\r\n        type: SET_PAGE,\r\n        currentPage: number\r\n    }\r\n}\r\n\r\nexport const setKeyword = (keyword) => {\r\n    return {\r\n        type: SET_KEYWORD,\r\n        keyword\r\n    }\r\n}\r\n\r\nexport const setCategory = (category) => {\r\n    return {\r\n        type: SET_CATEGORY,\r\n        category\r\n    }\r\n}\r\n\r\nexport const setTags = (tags) => {\r\n    return {\r\n        type: SET_TAGS,\r\n        tags\r\n    }\r\n}\r\n\r\nexport const toggleTag = (tag) => {\r\n    return {\r\n        type: TOGGLE_TAG,\r\n        tag\r\n    }\r\n}\r\n\r\nexport const goToNextPage = () => {\r\n    return {\r\n        type: NEXT_PAGE\r\n    }\r\n}\r\n\r\nexport const goToPrevPage = () => {\r\n    return {\r\n        type: PREV_PAGE\r\n    }\r\n}","export const ADD_ITEM = 'features/Cart/ADD_ITEM';\r\nexport const REMOVE_ITEM = 'features/Cart/REMOVE_ITEM';\r\nexport const CLEAR_ITEMS = 'features/Cart/CLEAR_ITEMS';\r\nexport const SET_ITEMS = 'features/Cart/SET_ITEMS';","import {ADD_ITEM, REMOVE_ITEM, CLEAR_ITEMS, SET_ITEMS} from './constant';\r\n\r\nexport function addItem(item){\r\n    return {\r\n        type: ADD_ITEM,\r\n        item\r\n    }\r\n}\r\n\r\nexport function removeItem(item){\r\n    return {\r\n        type: REMOVE_ITEM,\r\n        item\r\n    }\r\n}\r\n\r\nexport function clearItems() {\r\n    return {\r\n        type: CLEAR_ITEMS\r\n    }\r\n}\r\n\r\nexport function setItems(items){\r\n    return {\r\n        type: SET_ITEMS,\r\n        items\r\n    }\r\n}","import * as React from 'react';\r\nimport menus from './menus';\r\nimport {tags} from './tags';\r\nimport {config} from '../../config'\r\nimport {useHistory} from 'react-router-dom';\r\n//components\r\nimport {SideNav, LayoutSidebar, Responsive, CardProduct, Pagination, InputText, Pill} from 'upkit';\r\nimport TopBar from '../../components/TopBar';\r\nimport Cart from '../../components/Cart'\r\n//redux\r\nimport {useDispatch, useSelector} from 'react-redux';\r\n//actions\r\nimport {fetchProducts, setPage, goToNextPage, goToPrevPage, setKeyword, setCategory, toggleTag} from '../../features/Products/action';\r\nimport {addItem, removeItem} from '../../features/Cart/action';\r\n\r\nimport BounceLoader from 'react-spinners/BounceLoader';\r\n\r\nexport default function Home(){\r\n\r\n    let dispatch = useDispatch();\r\n    \r\n    let products = useSelector(state => state.products);\r\n    let cart = useSelector(state => state.cart);\r\n    let history = useHistory();\r\n\r\n    React.useEffect(() => {\r\n        dispatch(fetchProducts());\r\n    }, [dispatch, products.currentPage, products.keyword, products.category, products.tags])\r\n\r\n    return(\r\n        <div>\r\n            <LayoutSidebar sidebar={\r\n            <SideNav \r\n                items={menus} \r\n                verticalAlign=\"top\"\r\n                active={products.category}\r\n                onChange={category => dispatch(setCategory(category))}\r\n            />           \r\n            }\r\n            content={<div className=\"md:flex md:flex-row-reverse w-full mr-5 h-full min-h-screen\">\r\n                <div className=\"w-full md:w-3/4 pl-5 pb-10\">\r\n                    {/* searchbar */}\r\n                    <div className=\"w-full text-center mb-10 mt-5\">\r\n                        <InputText\r\n                            fullRound\r\n                            value={products.keyword}\r\n                            placeholder=\"cari makanan favoritmu\"\r\n                            fitContainer\r\n                            onChange={(e) => {\r\n                                dispatch(setKeyword(e.target.value))\r\n                            }}\r\n                        />\r\n                    </div>\r\n\r\n                    <TopBar/>\r\n                    \r\n                    {/* tag */}\r\n                    <div className=\"mb-5 pl-2 flex w-auto overflow-auto pb-5\">\r\n                        {tags[products.category].map((tag, index) => {\r\n                            return (<div key={index} >\r\n                                    <Pill \r\n                                        text={tag} \r\n                                        onClick={ _ => dispatch(toggleTag(tag))}\r\n                                        isActive={products.tags.includes(tag)}\r\n                                        icon={tag.slice(0,1).toUpperCase()}\r\n                                    />\r\n                                </div>)\r\n                        })}\r\n                    </div>\r\n\r\n                    {/* loading */}\r\n                    {products.status === 'process' && !products.data.length ? \r\n                    <div className=\"flex justify-center\">\r\n                        <BounceLoader color=\"red\"/>\r\n                    </div> : null}\r\n                    \r\n                    {/* cards */}\r\n                    <Responsive desktop={3} items=\"stretch\" >\r\n                        {products.data.map((product, index) => {\r\n                            return <div key={index} className=\"p-2\">\r\n                                <CardProduct \r\n                                    title={product.name}\r\n                                    imgUrl={`${config.api_host}/upload/${product.image_url}`}\r\n                                    price={product.price}\r\n                                    onAddToCart={_ => dispatch(addItem(product))}\r\n                                />\r\n                            </div>\r\n                        })}\r\n                    </Responsive> \r\n\r\n                    {/* pagination */}\r\n                    <div className=\"text-center my-10\">\r\n                        <Pagination\r\n                            totalItems={products.totalItems}\r\n                            page={products.currentPage}\r\n                            perPage={products.perPage}\r\n                            onChange={page => dispatch(setPage(page))}\r\n                            onNext={_ => dispatch(goToNextPage())}\r\n                            onPrev={_ => dispatch(goToPrevPage())}\r\n                        />   \r\n                    </div>    \r\n\r\n                </div>\r\n\r\n                {/* keranjang belanja */}\r\n                <div className={`w-full md:w-1/4 h-full shadow-lg border-r border-white bg-gray-100 ${cart.length? '' : 'flex items-center justify-center'}`}>\r\n                        <Cart \r\n                            items={cart} \r\n                            onItemInc={item => dispatch(addItem(item))} \r\n                            onItemDec={item => dispatch(removeItem(item))}\r\n                            onCheckout={_ => history.push(\"/checkout\")}\r\n                        />\r\n                </div>\r\n            </div>\r\n        }\r\n            sidebarSize={80}\r\n            />\r\n        </div>\r\n    )\r\n}","const rules = {\r\n    full_name:{\r\n        required: {value: true, message: 'Nama lengkap harus diisi.'},\r\n        maxLength: {value: 500, message: 'Panjang nama lengkap maksimal 500 karakter'},\r\n    },\r\n    email:{\r\n        required: { value: true, message: 'Email harus diisi.'},\r\n        maxLength: { value: 255, message: 'Panjang email maksimal 255 karakter'},\r\n        pattern: { value: /^([\\w-.]+@([\\w-]+.)+[\\w-]{2,4})?$/, message: 'Email tidak valid'}\r\n    },\r\n    password: {\r\n        required: {value: true, message: 'Password harus diisi'},\r\n        maxLength: { value: 255, message: 'Panjang password maksimal 255 karakter'}\r\n    },\r\n    password_confirmation: {\r\n        required: {value: true, message: 'Konfirmasi password harus diisi'}\r\n    }\r\n};\r\n\r\nexport {rules};\r\n","import axios from 'axios';\r\nimport {config} from '../config';\r\n\r\nexport async function register_user(data){\r\n    return await axios.post(`${config.api_host}/auth/register`, data);\r\n}\r\n\r\nexport async function login(email, password){\r\n    return await axios.post(`${config.api_host}/auth/login`, {email, password});\r\n}\r\n\r\nexport async function logout(){\r\n    //kirim token\r\n    let {token} = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')) : {};\r\n\r\n    return await axios.post(`${config.api_host}/auth/logout`, null, {\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response => {\r\n        localStorage.removeItem('auth');\r\n        return response;\r\n    }).catch(response => {\r\n        console.log(response);\r\n        return response;\r\n    })\r\n\r\n}","import * as React from 'react';\r\nimport {LayoutOne, Card, FormControl, InputText, InputPassword, Button} from 'upkit';\r\nimport {useHistory, Link} from 'react-router-dom';\r\n\r\nimport {useForm} from 'react-hook-form';\r\n\r\nimport {rules} from './validation';\r\nimport {register_user} from '../../api/auth';\r\n\r\n//component\r\nimport StoreLogo from '../../components/StoreLogo';\r\n\r\n//TODO tracking status\r\nconst statusList = {\r\n    idle: 'idle',\r\n    process: 'process',\r\n    success: 'success',\r\n    error: 'error'\r\n}\r\n\r\nexport default function Register(){\r\n\r\n    let {register, handleSubmit, formState: {errors}, setError} = useForm({mode: 'all'});\r\n\r\n    let [status, setStatus] = React.useState(statusList.idle);\r\n\r\n    let history = useHistory();\r\n\r\n    const onSubmit =  async (formData) => {\r\n\r\n        //cek kesamaan password\r\n        let {password, password_confirmation} = formData;\r\n\r\n        if(password !== password_confirmation){\r\n            setError('password_confirmation', {type: 'equality', message: 'Konfirmasi password harus sama dengan password'})\r\n            return;\r\n        }\r\n\r\n        setStatus(statusList.process);\r\n              \r\n        let resp = await register_user(formData);\r\n\r\n\r\n        if(resp.data.error){\r\n            let fields = Object.keys(resp.data.fields);\r\n\r\n            fields.forEach(field => {\r\n                setError(field, {type: 'server', message: resp.data.fields[field]?.properties?.message});\r\n            })\r\n\r\n            setStatus(statusList.error);\r\n            return;\r\n        }\r\n\r\n        setStatus(statusList.success);          \r\n        \r\n        history.push('/register/berhasil');\r\n  \r\n    }\r\n\r\n    return(\r\n        <LayoutOne size=\"small\">\r\n            <Card color=\"white\">\r\n\r\n                <div className=\"text-center mb-5\">\r\n                    <StoreLogo />\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n                    <FormControl errorMessage={errors.full_name?.message}>\r\n                        <InputText \r\n                            name=\"full_name\"\r\n                            placeholder=\"Nama Lengkap\"\r\n                            fitContainer\r\n                            {...register(\"full_name\", rules.full_name)}\r\n                            // ref={register}\r\n                        />\r\n                    </FormControl>\r\n                        \r\n                    <FormControl errorMessage={errors.email?.message}>\r\n                        <InputText\r\n                            name=\"email\"\r\n                            placeholder=\"Email\"\r\n                            fitContainer\r\n                            {...register(\"email\", rules.email)}\r\n                            \r\n                        />\r\n                    </FormControl>\r\n                    \r\n                    <FormControl errorMessage={errors.password?.message}>\r\n                        <InputPassword\r\n                            name=\"password\"\r\n                            placeholder=\"Password\"\r\n                            fitContainer\r\n                            {...register(\"password\", rules.password)}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <FormControl errorMessage={errors.password_confirmation?.message}> \r\n                        <InputPassword\r\n                            name=\"password_confirmation\"\r\n                            placeholder=\"Konfirmasi Password\"\r\n                            fitContainer\r\n                            {...register(\"password_confirmation\", rules.password_confirmation)}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <Button size=\"large\" fitContainer disabled={status === statusList.process}>\r\n                        {status === statusList.process ? \"Sedang memproses\" : \"Mendaftar\"}                \r\n                    </Button>\r\n                    \r\n                </form>\r\n\r\n                <div className=\"text-center mt-2\">\r\n                    Sudah punya akun? <Link to=\"/login\"><b>Masuk Sekarang</b></Link>\r\n                </div>\r\n            </Card>\r\n        </LayoutOne>\r\n    )\r\n}","import * as React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {LayoutOne, Card, Text, Button} from 'upkit';\r\n\r\nexport default function RegisterSuccess() {\r\n\r\n    return (\r\n        <LayoutOne size=\"small\">\r\n            <Card color=\"white\">\r\n                <div className=\"text-center\">\r\n                    <Text as=\"h3\">\r\n                        Pendaftaran Berhasil\r\n                    </Text>\r\n                    <Text>\r\n                        Silahkan masuk ke aplikasi\r\n                    </Text>\r\n\r\n                    <br/>\r\n\r\n                    <Link to=\"/login\">\r\n                        <Button fitContainer>\r\n                            Masuk\r\n                        </Button>\r\n                    </Link>\r\n\r\n                </div>\r\n            </Card>\r\n        </LayoutOne>\r\n    )\r\n}","const rules = {\r\n    email:{\r\n        required: {value: true, message: 'Email tidak boleh kosong'},\r\n        maxLength: {value: 255, message: 'Panjang email maksimal 255 karakter'}\r\n    },\r\n\r\n    password: {\r\n        required: {value: true, message: 'Password tidak boleh kosong'},\r\n        maxLength: {value: 255, message: 'Panjang password maksimal 255 karakter'}\r\n    }\r\n}\r\n\r\nexport {rules};","export const USER_LOGIN = 'features/Auth/USER_LOGIN';\r\nexport const USER_LOGOUT = 'features/Auth/USER_LOGOUT';","//import constant\r\nimport {USER_LOGIN, USER_LOGOUT} from './constant';\r\n\r\n//TODO action userLogin\r\nexport function userLogin(user, token){\r\n    return {\r\n        type: USER_LOGIN,\r\n        user,\r\n        token\r\n    };\r\n}\r\n\r\n//TODO action userLogout\r\nexport function userLogout(){\r\n    return {type: USER_LOGOUT};\r\n}","import * as React from 'react';\r\n//rules\r\nimport {rules} from './validation';\r\n\r\n//components\r\nimport {InputText, InputPassword, Button, FormControl, Card, LayoutOne} from 'upkit';\r\nimport {useForm} from 'react-hook-form';\r\nimport {useHistory, Link} from 'react-router-dom';\r\nimport StoreLogo from '../../components/StoreLogo';\r\n\r\n//api, redux and feature\r\nimport {login} from '../../api/auth';\r\nimport {useDispatch} from 'react-redux';\r\nimport {userLogin} from '../../features/Auth/action';\r\n\r\nconst statusList = {\r\n    idle: 'idle',\r\n    process: 'process',\r\n    success: 'success',\r\n    error: 'error'\r\n}\r\n\r\nexport default function Login(){\r\n\r\n    const {register, handleSubmit, formState: {errors}, setError} = useForm();\r\n    const [status, setStatus] = React.useState(statusList.idle);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const onSubmit = async ({email, password}) => {\r\n\r\n        setStatus(statusList.process);\r\n\r\n        //send and get response from server\r\n        let {data} = await login(email, password);\r\n\r\n        //! error handling data\r\n        if(data.error){\r\n\r\n            setError('password', {type: 'invalidCredential', message: data.message});\r\n\r\n            setStatus(statusList.error);\r\n            return;\r\n        }else{\r\n\r\n            let {user, token} = data;\r\n            //TODO dispatch ke redux store\r\n            dispatch(userLogin(user, token));\r\n\r\n            //TODO redirect\r\n            history.push('/');\r\n        }\r\n\r\n        setStatus(statusList.success);\r\n    }\r\n\r\n    return (\r\n        <LayoutOne size=\"small\">\r\n            <br/>\r\n            <Card color=\"white\">\r\n                <div className=\"text-center mb-5\">\r\n                    <StoreLogo/>\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <FormControl errorMessage={errors.email?.message}>\r\n                        <InputText \r\n                            placeholder=\"Email\" \r\n                            fitContainer\r\n                            name=\"email\"\r\n                            {...register('email', rules.email)}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <FormControl errorMessage={errors.password?.message}>\r\n                        <InputPassword\r\n                            placeholder=\"Password\"\r\n                            name=\"password\"\r\n                            fitContainer\r\n                            {...register('password', rules.password)}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <Button fitContainer size=\"large\" disabled={status === statusList.process}>Login</Button>\r\n                </form>\r\n\r\n                <div className=\"text-center mt-2\">Belum punya akun? <Link to=\"/register\"><b>Daftar Sekarang</b></Link></div>\r\n            </Card>\r\n        </LayoutOne>\r\n    )\r\n}","const rules = {\r\n    nama_alamat: {\r\n        required: {value: true, message: 'Nama alamat tidak boleh kosong'},\r\n        maxLength: {value: 500, message: 'Panjang nama alamat maksimal 500 karakter'},\r\n        minLength: {value: 5, message: 'Panjang nama alamat minimal 5 karakter'}\r\n    },\r\n    provinsi: {\r\n        required: {value: true, message: 'Provinsi harus dipilih'}\r\n    },\r\n    kabupaten: {\r\n        required: {value: true, message: 'Kabupaten harus dipilih'}\r\n    },\r\n    kecamatan: {\r\n        required: {value: true, message: 'Kecamatan harus dipilih'}\r\n    },\r\n    kelurahan: {\r\n        required: {value: true, message: 'Kelurahan harus dipilih'}\r\n    },\r\n    detail_alamat: {\r\n        required: {value: true, message: 'Detail alamat harus diisi'},\r\n        maxLength: {value: 1000, message: 'Panjang detail alamat maksimal 1000 karakter'}\r\n    }\r\n}\r\n\r\nexport {rules};","import * as React from 'react';\r\nimport axios from 'axios';\r\nimport {config} from '../../config';\r\nimport { oneOf, number, oneOfType, string, shape, func } from 'prop-types';\r\n//ui\r\nimport {Select} from 'upkit';\r\n\r\nexport default function SelectWilayah({tingkat, kodeInduk, onChange, value}){\r\n\r\n    let [data, setData] = React.useState([]);\r\n    let [isFetching, setIsFetching] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n\r\n        setIsFetching(true);\r\n\r\n        axios.get(`${config.api_host}/api/wilayah/${tingkat}?kode_induk=${kodeInduk}`)\r\n        .then(({data}) => {\r\n            setData(data);\r\n        })\r\n        .finally(_ => setIsFetching(false));\r\n\r\n    }, [kodeInduk, tingkat]);\r\n\r\n    return <Select options={data.map(wilayah => ({label: wilayah.nama, value: wilayah.kode}))} \r\n        onChange={onChange}\r\n        value={value}\r\n        isLoading={isFetching}\r\n        isDisabled={isFetching || !data.length}\r\n    />\r\n}\r\n\r\nSelectWilayah.defaultProps = {\r\n    tingkat: 'provinsi'\r\n}\r\n\r\nSelectWilayah.propTypes = {\r\n    tingkat: oneOf(['provinsi', 'kabupaten', 'kecamatan', 'desa']),\r\n    kodeInduk: oneOfType([string, number]),\r\n    onChange: func,\r\n    value: shape({label: string, value: oneOfType([string, number])})\r\n}","import axios from 'axios';\r\nimport {config} from '../config';\r\n\r\nexport async function getAddress(params){\r\n\r\n    let {token} = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')) : {};\r\n    let skip = params.page * params.limit - params.limit;\r\n\r\n    return await axios.get(`${config.api_host}/api/delivery-addresses`, {\r\n        params: {\r\n            limit: params.limit,\r\n            skip\r\n        },\r\n        headers:{\r\n            authorization: `Bearer ${token}`\r\n        }\r\n\r\n    })\r\n}\r\n\r\nexport async function createAddress(payload){\r\n\r\n    let {token} = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')) : {};\r\n\r\n    return await axios.post(`${config.api_host}/api/delivery-addresses`, payload, {\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n}","import * as React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n//form\r\nimport {rules} from './vaidation';\r\nimport {useForm} from 'react-hook-form';\r\n//UI\r\nimport { LayoutOne, InputText, FormControl, Textarea, Button } from 'upkit';\r\n//components\r\nimport TopBar from '../../components/TopBar';\r\nimport SelectWilayah from '../../components/SelectWilayah';\r\n//api\r\nimport {createAddress} from '../../api/address';\r\n\r\n\r\nexport default function UserAddressAdd(){\r\n\r\n    let history = useHistory();\r\n    let {handleSubmit, register, setValue, getValues, watch, formState: {errors}} = useForm();\r\n\r\n    let allFields = watch();\r\n\r\n    React.useEffect(() => {\r\n        register('provinsi', rules.provinsi);\r\n        register('kabupaten', rules.kabupaten);\r\n        register('kecamatan', rules.kecamatan);\r\n        register('kelurahan', rules.kelurahan);\r\n    }, [register]);\r\n\r\n    React.useEffect(() => {\r\n        setValue('kabupaten', null);\r\n        setValue('kecamatan', null);\r\n        setValue('kelurahan', null);\r\n    }, [allFields.provinsi, setValue]);\r\n\r\n    React.useEffect(() => {\r\n        setValue('kecamatan', null);\r\n        setValue('kelurahan', null);\r\n    }, [allFields.kabupaten, setValue]);\r\n\r\n    React.useEffect(() => {\r\n        setValue('kelurahan', null);\r\n    }, [allFields.kecamatan, setValue]);\r\n\r\n    const updateValue = (field, value) => {\r\n        setValue(field, value, {shouldDirty: true, shouldValidate: true});\r\n    }\r\n\r\n    const onSubmit = async (formData) => {\r\n        \r\n        let payload = {\r\n            nama: formData.nama_alamat,\r\n            detail: formData.detail_alamat,\r\n            provinsi: formData.provinsi.label,\r\n            kabupaten: formData.kabupaten.label,\r\n            kecamatan: formData.kecamatan.label,\r\n            kelurahan: formData.kelurahan.label,\r\n        }\r\n\r\n        let {data} = await createAddress(payload);\r\n        if(data.error) return;\r\n\r\n        history.push('/alamat-pengiriman');\r\n    }\r\n\r\n    return (\r\n        <LayoutOne>\r\n            <TopBar/>\r\n            <br/>\r\n            <div>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n                    <FormControl label=\"Nama Alamat\" errorMessage={errors.nama_alamat?.message} color=\"black\">\r\n                        <InputText\r\n                            placeholder=\"Nama Alamat\"\r\n                            fitContainer\r\n                            {...register('nama_alamat', rules.nama_alamat)}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <FormControl label=\"Provinsi\" errorMessage={errors.provinsi?.message} color=\"black\">\r\n                        <SelectWilayah\r\n                            onChange={option => updateValue('provinsi', option)}\r\n                            tingkat=\"provinsi\"\r\n                            value={getValues().provinsi}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <FormControl label=\"Kabupaten/kota\" errorMessage={errors.kabupaten?.message} color=\"black\">\r\n                        <SelectWilayah\r\n                            onChange={option => updateValue('kabupaten', option)}\r\n                            kodeInduk={getValues().provinsi?.value}\r\n                            tingkat=\"kabupaten\"\r\n                            value={getValues().kabupaten}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <FormControl label=\"Kecamatan\" errorMessage={errors.kecamatan?.message} color=\"black\">\r\n                        <SelectWilayah\r\n                            onChange={option => updateValue('kecamatan', option)}\r\n                            kodeInduk={getValues().kabupaten?.value}\r\n                            tingkat=\"kecamatan\"\r\n                            value={getValues().kecamatan}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <FormControl label=\"Kelurahan\" errorMessage={errors.kelurahan?.message} color=\"black\">\r\n                        <SelectWilayah\r\n                            onChange={option => updateValue('kelurahan', option)}\r\n                            kodeInduk={getValues().kecamatan?.value}\r\n                            tingkat=\"desa\"\r\n                            value={getValues().kelurahan}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <FormControl label=\"Detail Alamat\" errorMessage={errors.detail_alamat?.message} color=\"black\">\r\n                        <Textarea\r\n                            placeholder=\"Detail alamat\"\r\n                            fitContainer\r\n                            {...register('detail_alamat', rules.detail_alamat)}\r\n                        />\r\n                    </FormControl>\r\n\r\n                    <Button fitContainer>\r\n                        Simpan\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </LayoutOne>\r\n    )\r\n}","import * as React from 'react';\r\n//API\r\nimport {getAddress} from '../api/address';\r\n\r\nconst statusList = {\r\n    idle: 'idle',\r\n    process: 'process',\r\n    success: 'success',\r\n    error: 'error'\r\n}\r\n\r\nexport function useAddressData(){\r\n    let [data, setData] = React.useState([]);\r\n    let [count, setCount] = React.useState(0);\r\n    let [status, setStatus] = React.useState(statusList.idle);\r\n    let [page, setPage] = React.useState(1);\r\n    let [limit, setLimit] = React.useState(10);\r\n\r\n    let fetchAddress = React.useCallback(async function(){\r\n        setStatus(statusList.process);\r\n\r\n        //req ke api\r\n        let {data: {data, count, error}} = await getAddress({page,limit});\r\n\r\n        if(error){\r\n            setStatus(statusList.error);\r\n            return;\r\n        }\r\n\r\n        //if no error\r\n        setStatus(statusList.success);\r\n        setData(data);\r\n        setCount(count);\r\n    }, [page, limit]);\r\n\r\n    React.useEffect(() => {\r\n        fetchAddress();\r\n    }, [fetchAddress]);\r\n\r\n    return {\r\n        data,\r\n        count,\r\n        status,\r\n        page,\r\n        limit,\r\n        setPage,\r\n        setLimit\r\n    }\r\n}","import * as React from 'react';\r\n//UI lib\r\nimport { LayoutOne, Text, Table, Button } from 'upkit';\r\nimport {Link} from 'react-router-dom';\r\n//component\r\nimport TopBar from '../../components/TopBar';\r\n//hooks\r\nimport { useAddressData } from '../../hooks/address';\r\n\r\n\r\nexport default function UserAddress(){\r\n\r\n    let {data, limit, page, status, count, setPage} = useAddressData();\r\n    const columns = [\r\n        {Header: 'Nama', accessor: 'nama'},\r\n        {Header: 'Detail', accessor: alamat => {\r\n            return <div>\r\n                {alamat.provinsi}, {alamat.kabupaten}, {alamat.kecamatan}, {alamat.kelurahan}\r\n                <br/>\r\n                {alamat.detail}\r\n            </div>\r\n        }}\r\n    ]\r\n    \r\n    return(\r\n        <LayoutOne size=\"large\">\r\n            <div>\r\n                <TopBar/>\r\n                <Text as=\"h3\">Alamat Pengiriman</Text>\r\n                <br/>\r\n\r\n                <Link to=\"alamat-pengiriman/tambah\">\r\n                    <Button>\r\n                        Tambah Baru\r\n                    </Button>\r\n                </Link>\r\n                <br/>\r\n                <br/>\r\n                <Table\r\n                    items={data}\r\n                    columns={columns}\r\n                    totalItems={count}\r\n                    page={page}\r\n                    isLoading={status === 'process'}\r\n                    perPage={limit}\r\n                    onPageChange={page => setPage(page)}\r\n                />\r\n\r\n                {status === 'success' && !data.length ? \r\n                <div className=\"text-center p-10\">\r\n                    Kamu belum menambahkan alamat pengiriman.\r\n                    <br/>\r\n                    <Link to=\"alamat-pengiriman/tambah\">\r\n                        <button>Tambah Baru</button>\r\n                    </Link>\r\n                </div> : null}\r\n            </div>\r\n        </LayoutOne>\r\n    )\r\n}","import axios from 'axios';\r\nimport {config} from '../config';\r\n\r\nexport async function getOrders(params){\r\n    let {token} = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')) : {};\r\n    let {limit, page} = params;\r\n    let skip = (page * limit) - limit;\r\n\r\n    return await axios.get(`${config.api_host}/api/orders`, {\r\n        params: {\r\n            limit,\r\n            skip\r\n        },\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    });\r\n}\r\n\r\nexport async function createOrder(payload){\r\n    let {token} = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')) : {};\r\n\r\n    return await axios.post(`${config.api_host}/api/orders`, payload, {\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n}","import * as React from \"react\";\r\nimport {Link, useHistory, Redirect} from 'react-router-dom';\r\n//ui\r\nimport { LayoutOne, Text, Steps, Table, Button, Responsive } from \"upkit\";\r\n//component\r\nimport TopBar from \"../../components/TopBar\";\r\n//icons\r\nimport FaCartPlus from \"@meronex/icons/fa/FaCartPlus\";\r\nimport FaAddressCard from \"@meronex/icons/fa/FaAddressCard\";\r\nimport FaInfoCircle from \"@meronex/icons/fa/FaInfoCircle\";\r\nimport FaArrowRight from '@meronex/icons/fa/FaArrowRight';\r\nimport FaArrowLeft from '@meronex/icons/fa/FaArrowLeft';\r\nimport FaRegCheckCircle from '@meronex/icons/fa/FaRegCheckCircle';\r\n//redux\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport { clearItems } from \"../../features/Cart/action\";\r\n//misc\r\nimport { config } from '../../config';\r\nimport {formatRupiah} from '../../utils/format-rupiah';\r\nimport {sumPrice} from '../../utils/sum-price';\r\n//hooks\r\nimport { useAddressData } from \"../../hooks/address\";\r\n//api\r\nimport {createOrder} from '../../api/order';\r\n\r\nconst IconWrapper = ({ children }) => {\r\n  return <div className=\"text-3xl flex justify-center\">{children}</div>;\r\n};\r\n\r\nconst steps = [\r\n  {\r\n    label: \"Item\",\r\n    icon: (\r\n      <IconWrapper>\r\n        <FaCartPlus />\r\n      </IconWrapper>\r\n    ),\r\n  },\r\n  {\r\n    label: \"Alamat\",\r\n    icon: (\r\n      <IconWrapper>\r\n        <FaAddressCard />\r\n      </IconWrapper>\r\n    ),\r\n  },\r\n  {\r\n    label: \"Konfirmasi\",\r\n    icon: (\r\n      <IconWrapper>\r\n        <FaInfoCircle />\r\n      </IconWrapper>\r\n    ),\r\n  },\r\n];\r\n\r\nconst columns = [\r\n    {\r\n        Header: 'Nama produk',\r\n        accessor: item => <div className=\"flex items-center\">\r\n            <img src={`${config.api_host}/upload/${item.image_url}`} width={48} alt={item.name} />\r\n            {item.name}\r\n        </div>\r\n    },\r\n    {\r\n        Header: 'Jumlah',\r\n        accessor: 'qty'\r\n    },\r\n    {\r\n        Header: 'Harga satuan',\r\n        id: 'price',\r\n        accessor: item => <span>@ {formatRupiah(item.price)}</span>\r\n    },\r\n    {\r\n        Header: 'Harga total',\r\n        id: 'subtotal',\r\n        accessor: item => {\r\n            return <div>\r\n                {formatRupiah(item.price * item.qty)}\r\n            </div>\r\n        }\r\n\r\n    }\r\n];\r\n\r\nconst addressColumns = [\r\n  {\r\n    Header: 'Nama alamat',\r\n    accessor: alamat => {\r\n      return <div>\r\n        {alamat.nama}\r\n        <br/>\r\n        <small>{alamat.provinsi}, {alamat.kabupaten}, {alamat.kecamatan}, {alamat.kelurahan}\r\n        <br/>\r\n        {alamat.detail}\r\n        </small>       \r\n      </div>\r\n    }\r\n  }\r\n]\r\n\r\nexport default function Checkout() {\r\n  let [activeStep, setActiveStep] = React.useState(0);\r\n  //cart (menu 1)\r\n  let cart = useSelector(state => state.cart);\r\n  // address (menu 2)\r\n  let {data, status, limit, page, count, setPage} = useAddressData();\r\n  let [selectedAddress, setSelectedAddress] = React.useState(null);\r\n  //redirect\r\n  let history = useHistory();\r\n  let dispatch = useDispatch();\r\n\r\n  //create order\r\n  async function handleCreateOrder(){\r\n    let payload = {\r\n      delivery_fee: config.global_ongkir,\r\n      delivery_address: selectedAddress._id\r\n    }\r\n\r\n    let {data} = await createOrder(payload);\r\n    //check error\r\n    if(data?.error){\r\n      console.log(JSON.stringify(data));\r\n      return;\r\n    }\r\n    //no error\r\n    history.push(`/invoice/${data._id}`);\r\n    //clear cart on redux\r\n    dispatch(clearItems());\r\n  }\r\n\r\n  if(!cart.length){\r\n    return <Redirect to=\"/\" />\r\n  }\r\n\r\n  return (\r\n    <LayoutOne>\r\n      <TopBar />\r\n      <Text as=\"h3\">Checkout</Text>\r\n        <br/>\r\n      <Steps steps={steps} active={activeStep} />\r\n      \r\n      {/* active menu cart*/}\r\n      {activeStep === 0 ? \r\n      <div>\r\n          <br/><br/>\r\n          <Table\r\n            items={cart}\r\n            columns={columns}\r\n            perPage={cart.length}\r\n            showPagination={false}\r\n          />\r\n          <br/>\r\n          <div className=\"text-right\">\r\n            <Text as=\"h4\">\r\n                Subtotal: {formatRupiah(sumPrice(cart))}\r\n            </Text>\r\n          </div>\r\n          <br/>\r\n          <Button\r\n            onClick={_ => setActiveStep(activeStep+1)}\r\n            color=\"red\"\r\n            iconAfter={<FaArrowRight/>}\r\n          >Selanjutnya</Button>\r\n      </div> : null}\r\n\r\n\r\n      {/* active menu address */}\r\n      {activeStep === 1 ? \r\n      <div>\r\n        <br/><br/>\r\n        <Table\r\n          items={data}\r\n          columns={addressColumns}\r\n          perPage={limit}\r\n          page={page}\r\n          onPageChange={page => setPage(page)}\r\n          totalItems={count}\r\n          isLoading={status === 'process'}\r\n          selectable\r\n          primaryField={'_id'}\r\n          selectedRow={selectedAddress}\r\n          onSelectRow={item => setSelectedAddress(item)}\r\n        />\r\n        {!data.length && status === 'success'? \r\n          <div className=\"text-center my-10\">\r\n            <Link to=\"alamat-pengiriman/tambah\">\r\n              Kamu belum memiliki alamat pengiriman\r\n              <br/><br/>\r\n              <Button>Tambah alamat</Button>\r\n            </Link>\r\n          </div>: null\r\n        }\r\n        <br/><br/>\r\n        <Responsive desktop={2} tablet={2} mobile={2}>\r\n          <div>\r\n            <Button\r\n              onClick={_ => setActiveStep(activeStep-1)}\r\n              color=\"gray\"\r\n              iconBefore={<FaArrowLeft/>}\r\n            >\r\n              Sebelumnya\r\n            </Button>\r\n          </div>\r\n          <div className=\"text-right\">\r\n            <Button\r\n              onClick={_ => setActiveStep(activeStep+1)}\r\n              disabled={!selectedAddress}\r\n              iconAfter={<FaArrowRight/>}\r\n            >\r\n              Selanjutnya\r\n            </Button>\r\n          </div>\r\n        </Responsive>\r\n      </div>\r\n      : null}\r\n\r\n      {/* active menu konfirmasi */}\r\n      {activeStep === 2 ?\r\n      <div>\r\n        <br/><br/>\r\n        <Table     \r\n          columns={[\r\n            {\r\n              Header: '',\r\n              accessor: 'label'\r\n            },\r\n            {\r\n              Header: '',\r\n              accessor: 'value'\r\n            }\r\n          ]}    \r\n\r\n          items={[\r\n            {label: 'Alamat', value: <div>\r\n              {selectedAddress.nama}<br/>\r\n              {selectedAddress.provinsi}, {selectedAddress.kabupaten}, {selectedAddress.kecamatan}, {selectedAddress.kelurahan} <br/>\r\n              {selectedAddress.detail}\r\n            </div>},\r\n            {label: 'Subtotal', value: formatRupiah(sumPrice(cart))},\r\n            {label: 'Ongkir', value: formatRupiah(config.global_ongkir)},\r\n            {label: 'Total', value: <b>{formatRupiah(sumPrice(cart) + parseInt(config.global_ongkir))}</b>}\r\n          ]}\r\n          showPagination={false}\r\n        />\r\n        <br/><br/>\r\n        <Responsive desktop={2} tablet={2} mobile={2}>\r\n          <div>\r\n            <Button\r\n              onClick={_ => setActiveStep(activeStep-1)}\r\n              color=\"gray\"\r\n              iconBefore={<FaArrowRight/>}\r\n            >\r\n              Sebelumnya\r\n            </Button>\r\n          </div>\r\n          <div className=\"text-right\">\r\n            <Button\r\n              onClick={handleCreateOrder}\r\n              color=\"red\"\r\n              size=\"large\"\r\n              iconBefore={<FaRegCheckCircle/>}\r\n            >\r\n              Bayar\r\n            </Button>\r\n          </div>\r\n        </Responsive>\r\n      </div>\r\n      : null}\r\n    </LayoutOne>\r\n  );\r\n}\r\n","import * as React from 'react';\r\n//ui\r\nimport { Badge } from 'upkit';\r\nimport {string} from 'prop-types';\r\n\r\nexport default function StatusLabel({status}) {\r\n    switch(status){\r\n        case 'waiting_payment':\r\n            return <Badge color=\"orange\">Menunggu pembayaran</Badge>\r\n        \r\n        case 'paid':\r\n            return <Badge color=\"green\">Sudah dibayar</Badge>\r\n\r\n        case 'pocessing':\r\n            return <Badge color=\"yellow\">Sedang diproses</Badge>\r\n\r\n        case 'in_delivery':\r\n            return <Badge color=\"blue\">Dalam pengiriman</Badge>\r\n\r\n        case 'delivered':\r\n            return <Badge color=\"green\">Pesanan diterima</Badge>\r\n\r\n        default:\r\n            return <div></div>\r\n    } \r\n}\r\n\r\nStatusLabel.propTypes = {\r\n    status: string.isRequired\r\n}","import axios from 'axios';\r\nimport {config} from '../config';\r\n\r\nexport async function getInvoiceByOrderId(order_id){\r\n    let {token} = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')) : {};\r\n\r\n    return await axios.get(`${config.api_host}/api/invoices/${order_id}`, {\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n}","import * as React from 'react';\r\nimport { useRouteMatch } from 'react-router-dom';\r\n//ui\r\nimport {LayoutOne, Text, Table, Button} from 'upkit';\r\nimport TopBar from '../../components/TopBar';\r\nimport { BounceLoader } from 'react-spinners';\r\n//component\r\nimport StatusLabel from '../../components/StatusLabel';\r\n//api\r\nimport { getInvoiceByOrderId } from '../../api/invoice';\r\nimport axios from 'axios';\r\n//util\r\nimport {formatRupiah} from '../../utils/format-rupiah';\r\nimport {config} from '../../config';\r\n\r\n\r\nexport default function Invoice(){\r\n    let [invoice, setInvoice] = React.useState(null);\r\n    let [error, setError] = React.useState('');\r\n    let [status, setStatus] = React.useState('process');\r\n    //payment midtrans\r\n    let [initiatingPayment, setInitiating] = React.useState(false);\r\n    let [, setRequestError] = React.useState(false);\r\n\r\n    let {params} = useRouteMatch();\r\n\r\n    //midtrans payment\r\n    let handlePayment = async () => {\r\n        setInitiating(true);\r\n\r\n        let {data} = await axios.get(`${config.api_host}/api/invoices/${params?.order_id}/initiate_payment`);\r\n        console.log(data);\r\n        if(!data.token){\r\n            setRequestError(true);\r\n            alert('error');\r\n            return;\r\n        }\r\n        //process completed\r\n        setInitiating(true);\r\n        window.snap.pay(data.token);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        getInvoiceByOrderId(params?.order_id)\r\n        .then(({data}) => {\r\n            if(data?.error){\r\n                setError(data.message || 'Terjadi kesalahan yang tidak diketahui');\r\n            }\r\n            setInvoice(data);\r\n        })\r\n        .finally(() => setStatus('idle'))\r\n    }, [params]);\r\n\r\n    if(error.length){\r\n        return (\r\n            <LayoutOne>\r\n                <TopBar/>\r\n                <Text as=\"h3\">Terjadi kesalahan</Text>\r\n                {error}\r\n            </LayoutOne>\r\n        )\r\n    }\r\n\r\n    if(status === 'process'){\r\n        return (\r\n            <LayoutOne>\r\n                <div className=\"text-center py-10\">\r\n                    <div className=\"inline-block\">\r\n                        <BounceLoader color=\"red\" />\r\n                    </div>\r\n                </div>\r\n            </LayoutOne>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <LayoutOne>\r\n            <TopBar/>\r\n            <Text as=\"h3\">Invoice</Text>\r\n            <br/>\r\n\r\n            <Table\r\n                showPagination={false}\r\n                items={[\r\n                    {label: 'Status', value: <StatusLabel status={invoice?.payment_status} />},\r\n                    {label: 'Order ID', value: `#${invoice?.order?.order_number}`},\r\n                    {label: 'Total amount', value: formatRupiah(invoice?.total)},\r\n                    {label: 'Billed to', value: <div>\r\n                        <b>{invoice?.user?.full_name}</b>\r\n                        <br/>\r\n                        {invoice?.user?.email}<br/><br/>\r\n                        {invoice?.delivery_address?.detail}<br/>\r\n                        {invoice?.delivery_address?.kelurahan},\r\n                        {invoice?.delivery_address?.kecamatan}<br/>\r\n                        {invoice?.delivery_address?.kabupaten} <br/>\r\n                        {invoice?.delivery_address?.provinsi}\r\n                    </div>},\r\n                    {label: 'Payment to', value: <div>\r\n                        {config.owner} <br/>\r\n                        {config.contact} <br/>\r\n                        {config.billing.account_no} <br/>\r\n                        {config.billing.bank_name}\r\n                    </div>}\r\n                ]}\r\n                columns={[\r\n                    {Header: 'Invoice', accessor: 'label'},\r\n                    {Header: '', accessor: 'value'}\r\n                ]}\r\n            >\r\n\r\n            </Table>\r\n            {invoice.payment_status !== 'paid' ? \r\n            <Button\r\n                onClick={handlePayment}\r\n                disabled={initiatingPayment}\r\n            >\r\n                {initiatingPayment ? \"Loading...\" : \"Bayar dengan midtrans\"}\r\n            </Button> : null}\r\n        </LayoutOne>\r\n    )\r\n}","import * as React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n//ui\r\nimport { LayoutOne, Text, Card, Responsive } from 'upkit';\r\n//components\r\nimport TopBar from '../../components/TopBar';\r\n//icon\r\nimport FaHome from '@meronex/icons/fa/FaHome';\r\nimport FaAddressBook from '@meronex/icons/fa/FaAddressBook';\r\nimport FaArrowRight from '@meronex/icons/fa/FaArrowRight';\r\nimport FaFileInvoice from '@meronex/icons/fa/FaFileInvoice';\r\n\r\nconst IconWrapper = ({children}) => {\r\n    return <div className=\"text-white text-5xl flex justify-center mb-5\">\r\n        {children}\r\n    </div>\r\n}\r\nconst menus = [\r\n    {label: 'Beranda', icon: <IconWrapper><FaHome/></IconWrapper>, url: '/'},\r\n    {label: 'Alamat', icon: <IconWrapper><FaAddressBook/></IconWrapper>, url: '/alamat-pengiriman'},\r\n    {label: 'Pesanan', icon: <IconWrapper><FaFileInvoice/></IconWrapper>, url: '/pesanan'},\r\n    {label: 'Logout', icon: <IconWrapper><FaArrowRight/></IconWrapper>, url: '/logout'}\r\n]\r\n\r\n\r\nexport default function UserAccount(){\r\n    return (\r\n        <LayoutOne>\r\n            <TopBar/>\r\n            <Text as=\"h3\">Akun anda</Text>\r\n            <br/>\r\n            <Responsive desktop={4} tablet={4} mobile={2}>\r\n                {menus.map((menu, index) => {\r\n                    return <div key={index} className=\"px-2 pb-2\">\r\n                        <Link to={menu.url}>\r\n                            <Card \r\n                                header={menu.icon}\r\n                                body={<div className=\"text-center font-bold text-white\">\r\n                                    {menu.label}\r\n                                </div>}\r\n                            />\r\n                        </Link>\r\n                    </div>\r\n                })}\r\n            </Responsive>\r\n        </LayoutOne>\r\n    )\r\n}","import * as React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n//ui\r\nimport { LayoutOne, Table, Button, Text } from 'upkit';\r\n//component\r\nimport TopBar from '../../components/TopBar';\r\nimport StatusLabel from '../../components/StatusLabel';\r\n//utils\r\nimport { formatRupiah } from '../../utils/format-rupiah';\r\nimport { sumPrice } from '../../utils/sum-price';\r\n//icons\r\nimport FaFileInvoiceDollar from '@meronex/icons/fa/FaFileInvoiceDollar';\r\n//api\r\nimport { getOrders } from '../../api/order';\r\n\r\n\r\nconst columns = [\r\n    {Header: '', id: 'Status', accessor: order => {\r\n        return <div>\r\n            #{order.order_number} <br/>\r\n            <StatusLabel status={order.status}/>\r\n        </div>\r\n    }},\r\n    {Header: 'Items', accessor: order => {\r\n        return <div>\r\n            {order.order_items.map(item => {\r\n                return <div key={item._id}>\r\n                    {item.name} {item.qty}\r\n                </div>\r\n            })}\r\n        </div>\r\n    }},\r\n    {Header: 'Total', accessor: order => {\r\n        return <div>\r\n            {formatRupiah(sumPrice(order.order_items) + order.delivery_fee)}\r\n        </div>\r\n    }},\r\n    {Header: 'Invoice', accessor: order => {\r\n        return <div>\r\n            <Link to={`/invoice/${order._id}`}>\r\n                <Button color=\"gray\" iconBefore={<FaFileInvoiceDollar/>}>\r\n                    Invoice\r\n                </Button>\r\n            </Link>\r\n        </div>\r\n    }}\r\n]\r\n\r\nexport default function UserOrders(){\r\n    let [pesanan, setPesanan] = React.useState([]);\r\n    let [count, setCount] = React.useState(0);\r\n    let [status, setStatus] = React.useState('idle');\r\n    let [page, setPage] = React.useState(1);\r\n    let [limit,] = React.useState(10);\r\n\r\n    const fetchPesanan = React.useCallback(async () => {\r\n        setStatus('process');\r\n\r\n        let {data} = await getOrders({limit, page});\r\n\r\n        if(data.error){\r\n            setStatus('error');\r\n            return;\r\n        }\r\n\r\n        setStatus('success');\r\n        setPesanan(data.data);\r\n       \r\n        setCount(data.count);\r\n    }, [page, limit]);\r\n\r\n    React.useEffect(() => {\r\n        fetchPesanan();\r\n    },[fetchPesanan]);\r\n\r\n    return (\r\n        <LayoutOne>\r\n            <TopBar/>\r\n            <Text as=\"h3\">Pesanan anda</Text>\r\n            <br/>\r\n\r\n            <Table\r\n                items={pesanan}\r\n                totalItems={count}\r\n                columns={columns}\r\n                onPageChange={page => setPage(page)}\r\n                page={page}\r\n                isLoading={status === 'process'}\r\n            >\r\n\r\n            </Table>\r\n        </LayoutOne>\r\n    )\r\n}","import * as React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {LayoutOne} from 'upkit';\r\nimport { BounceLoader } from 'react-spinners';\r\n//redux\r\nimport {useDispatch} from 'react-redux';\r\nimport { userLogout } from '../../features/Auth/action';\r\nimport { logout } from '../../api/auth';\r\n\r\nexport default function Logout(){\r\n    let history = useHistory();\r\n    let dispatch = useDispatch();\r\n\r\n    React.useEffect(() => {\r\n        logout()\r\n            .then(() => dispatch(userLogout))\r\n            .then(() => history.push('/'))   \r\n    }, [dispatch, history]);\r\n\r\n    return (\r\n        <LayoutOne size=\"small\">\r\n            <div className=\"text-center flex flex-col justify-center items-center\">\r\n                <BounceLoader color=\"red\" />\r\n                <br/>\r\n                Logging out...\r\n            </div>\r\n        </LayoutOne>\r\n    )\r\n}","import * as React from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport {useSelector} from 'react-redux';\r\n\r\nconst GuardRoute = ({component: Component, ...rest}) => {\r\n    let {user} = useSelector(state => state.auth);\r\n\r\n    return (\r\n        <Route {...rest}>\r\n            {user ? <Component/> : <Redirect to=\"/login\"/>}\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default GuardRoute;","import * as React from 'react';\r\nimport {useSelector} from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst GuestRouteOnly = ({component: Component, ...rest}) => {\r\n    let {user} = useSelector(state => state.auth);\r\n\r\n    return <Route {...rest}>\r\n        {!user ? <Component/> : <Redirect to=\"/\" />}\r\n    </Route>\r\n}\r\n\r\nexport default GuestRouteOnly;","//import constant\r\nimport {USER_LOGIN, USER_LOGOUT} from './constant';\r\n\r\nlet initialState = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')) : {user: null, token: null};\r\n\r\nexport default function reducer(state = initialState, action){\r\n\r\n    switch (action.type) {\r\n\r\n        case USER_LOGIN:{\r\n            return {user: action.user, token: action.token};\r\n        }\r\n        case USER_LOGOUT:{\r\n            return {user: null, token: null};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}","//import constants\r\nimport {START_FETCHING_PRODUCT, ERROR_FETCHING_PRODUCT, SUCCESS_FETCHING_PRODUCT, SET_PAGE,SET_CATEGORY,\r\nSET_KEYWORD, SET_TAGS, NEXT_PAGE, PREV_PAGE, TOGGLE_TAG} from './constant';\r\n\r\nconst statusList = {\r\n    idle: 'idle',\r\n    process: 'process',\r\n    success: 'success',\r\n    error: 'error'\r\n}\r\nconst initialState = {\r\n    data: [],\r\n    currentPage: 1,\r\n    totalItems: -1,\r\n    perPage: 6,\r\n    keyword: '',\r\n    category: '',\r\n    tags: [],\r\n    status: statusList.idle\r\n};\r\n\r\n\r\nexport default function reducer(state = initialState, action) {\r\n\r\n    switch (action.type) {\r\n        \r\n        case START_FETCHING_PRODUCT:\r\n            return {...state, status: statusList.process};\r\n\r\n        case ERROR_FETCHING_PRODUCT:\r\n            return {...state, status: statusList.error};\r\n\r\n        case SUCCESS_FETCHING_PRODUCT:\r\n            return {...state, status: statusList.success, data: action.data, totalItems: action.count};\r\n\r\n        case SET_PAGE:\r\n            return {...state, currentPage: action.currentPage};\r\n\r\n        case SET_KEYWORD:\r\n            return {...state, keyword: action.keyword, category: '', tags: []};\r\n\r\n        case SET_CATEGORY:\r\n            return {...state, currentPage: 1, tags: [], category: action.category, keyword: ''};\r\n\r\n        case SET_TAGS:\r\n            return {...state, tags: action.tags};\r\n\r\n        case TOGGLE_TAG:\r\n            if(!state.tags.includes(action.tag)){\r\n                return {...state, currentPage: 1, tags: [...state.tags, action.tag]};\r\n            }else{\r\n                return {...state, currentPageL: 1, tags: state.tags.filter(tag => tag !== action.tag)};\r\n            }\r\n    \r\n        case NEXT_PAGE:\r\n            return {...state, currentPage: state.currentPage+1};\r\n\r\n        case PREV_PAGE:\r\n            return {...state, currentPage: state.currentPage-1};\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import {ADD_ITEM, REMOVE_ITEM, CLEAR_ITEMS, SET_ITEMS} from './constant';\r\n\r\nconst initialState = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : [];\r\n\r\nexport default function reducer(state = initialState, action){\r\n\r\n    switch (action.type) {\r\n        case ADD_ITEM:\r\n            if(state.find(item => item._id === action.item._id)){\r\n                return state.map(item => {\r\n                    return {...item, qty: item._id === action.item._id ? item.qty+1 : item.qty};\r\n                })\r\n            }else{\r\n                return [...state, {...action.item, qty:1}];\r\n            }\r\n\r\n        case REMOVE_ITEM:\r\n            return state.map(item => {\r\n                return {...item, qty: item._id === action.item._id ? item.qty-1 : item.qty}\r\n            }).filter(itm => itm.qty > 0);\r\n\r\n        case CLEAR_ITEMS:\r\n            return [];\r\n\r\n        case SET_ITEMS:\r\n            return action.items;\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}","import {combineReducers, createStore, applyMiddleware, compose} from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\n//import reducer\r\nimport authReducer from '../features/Auth/reducer';\r\nimport productsReducer from '../features/Products/reducer';\r\nimport cartReducer from '../features/Cart/reducer';\r\n\r\n//hubungan dengan chrome devtools redux\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n//gabungkan semua reducer\r\nconst rootReducers = combineReducers({\r\n    auth: authReducer,\r\n    products: productsReducer,\r\n    cart: cartReducer\r\n});\r\n\r\n//buat store\r\nconst store = createStore(rootReducers, composeEnhancer(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import store from './store';\r\nimport {saveCart} from '../api/cart';\r\n\r\nlet currentAuth;\r\nlet currentCart;    \r\n\r\nfunction listener(){\r\n\r\n    let previousAuth = currentAuth;\r\n    let previousCart = currentCart;\r\n\r\n    //TODO update current auth terlepas dari adanya update/tidak\r\n    currentAuth = store.getState().auth;\r\n    currentCart = store.getState().cart;\r\n\r\n    let {token} = currentAuth;\r\n\r\n    if(JSON.stringify(currentAuth) !== JSON.stringify(previousAuth)){\r\n        localStorage.setItem('auth', JSON.stringify(currentAuth));\r\n\r\n        saveCart(token, currentCart);\r\n    }\r\n\r\n    if(currentCart !== previousCart){\r\n        localStorage.setItem('cart', JSON.stringify(currentCart));\r\n\r\n        saveCart(token, currentCart);\r\n\r\n    }\r\n}\r\n\r\nfunction listen(){\r\n    store.subscribe(listener);\r\n}\r\n\r\nexport {listen};","import axios from 'axios';\r\nimport {config} from '../config';\r\nimport store from '../app/store';\r\nimport {setItems} from '../features/Cart/action';\r\n\r\nexport async function saveCart(token, cart){\r\n\r\n    return await axios.put(`${config.api_host}/api/carts`, {items: cart}, {\r\n        headers:{\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n}\r\n\r\nexport async function getCart(){\r\n\r\n    let {token} = localStorage.getItem('auth') ? JSON.parse(localStorage.getItem('auth')) : {};\r\n    if(!token) return;\r\n\r\n    let {data} = await axios.get(`${config.api_host}/api/carts`, {\r\n        headers: {\r\n            authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n\r\n    if(!data.error){\r\n        store.dispatch(setItems(data));\r\n    }\r\n}","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport \"upkit/dist/style.min.css\";\n\n//component\nimport Home from \"./pages/Home\";\nimport Register from \"./pages/Register\";\nimport RegisterSuccess from './pages/RegisterSuccess';\nimport Login from './pages/Login';\nimport UserAddressAdd from \"./pages/UserAddressAdd\";\nimport UserAddress from \"./pages/UserAddress\";\nimport Checkout from \"./pages/Checkout\";\nimport Invoice from \"./pages/Invoice\";\nimport UserAccount from './pages/UserAccount';\nimport UserOrders from \"./pages/UserOrders\";\nimport Logout from \"./pages/Logout\";\n//guard component\nimport GuardRoute from './components/GuardRoute';\nimport GuestRouteOnly from \"./components/GuestRouteOnly\";\n\n//redux\nimport { Provider } from \"react-redux\";\nimport store from \"./app/store\";\nimport {getCart} from './api/cart';\n\n//import listener funct\nimport {listen} from './app/listener';\n\nfunction App() {\n\n  React.useEffect(() => {\n    listen();\n    getCart();\n  }, []);\n\n  return (\n    <Provider store={store}>\n      <Router>\n        <Switch>\n          <GuestRouteOnly path=\"/login\" component={Login} />\n          <GuestRouteOnly path=\"/register/berhasil\" component={RegisterSuccess} />\n          <GuestRouteOnly path=\"/register\" component={Register} />\n          <GuardRoute path=\"/alamat-pengiriman/tambah\" component={UserAddressAdd} />\n          <GuardRoute path=\"/alamat-pengiriman/\" component={UserAddress} />\n          <GuardRoute path=\"/checkout\" component={Checkout} />\n          <GuardRoute path=\"/invoice/:order_id\" component={Invoice} />\n          <GuardRoute path=\"/account\" component={UserAccount} />\n          <GuardRoute path=\"/pesanan\" component={UserOrders} />\n          <Route path=\"/logout\" component={Logout} />\n          <Route path=\"/\" component={Home} />\n        </Switch>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/tailwind.css'\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}